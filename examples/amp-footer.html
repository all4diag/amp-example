<!DOCTYPE html>
<html amp lang="en">
  <head>
    <meta charset="utf-8" />
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <title>Hello, AMPs</title>
    <link
      rel="canonical"
      href="http://example.ampproject.org/article-metadata.html"
    />
    <script
      async
      custom-element="amp-animation"
      src="https://cdn.ampproject.org/v0/amp-animation-0.1.js"
    ></script>
    <script
      async
      custom-element="amp-position-observer"
      src="https://cdn.ampproject.org/v0/amp-position-observer-0.1.js"
    ></script>
    <meta
      name="viewport"
      content="width=device-width,minimum-scale=1,initial-scale=1"
    />
    <style amp-custom>
      article {
        padding: 10px;
      }
      #footer-trigger {
        position: absolute;
        top: 0;
        left: 0;
        height: 100vh;
      }
      .footer {
        position: fixed;
        bottom: 0px;
        width: 100%;
        background-color: gray;
        color: white;
        font-size: 18px;
        text-align: center;
        padding: 10px 0;
        opacity: 0;
        display: relative;
      }
      .footer > button {
        position: absolute;
        top: 0;
        right: 0;
        font-size: 20px;
        cursor: pointer;
      }
    </style>
    <!-- prettier-ignore -->
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>
    <!-- prettier-ignore -->
    <noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
  </head>
  <body>
    <article>
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Qui voluptas
      distinctio odit, architecto quo officiis blanditiis sunt alias. Provident
      possimus perferendis iusto totam delectus autem ullam molestias quibusdam
      voluptatem labore? Lorem ipsum dolor sit amet consectetur adipisicing
      elit. Qui voluptas distinctio odit, architecto quo officiis blanditiis
      sunt alias. Provident possimus perferendis iusto totam delectus autem
      ullam molestias quibusdam voluptatem labore? Lorem ipsum dolor sit amet
      consectetur adipisicing elit. Qui voluptas distinctio odit, architecto quo
      officiis blanditiis sunt alias. Provident possimus perferendis iusto totam
      delectus autem ullam molestias quibusdam voluptatem labore? Lorem ipsum
      dolor sit amet consectetur adipisicing elit. Qui voluptas distinctio odit,
      architecto quo officiis blanditiis sunt alias. Provident possimus
      perferendis iusto totam delectus autem ullam molestias quibusdam
      voluptatem labore? Lorem ipsum dolor sit amet consectetur adipisicing
      elit. Qui voluptas distinctio odit, architecto quo officiis blanditiis
      sunt alias. Provident possimus perferendis iusto totam delectus autem
      ullam molestias quibusdam voluptatem labore? Lorem ipsum dolor sit amet
      consectetur adipisicing elit. Qui voluptas distinctio odit, architecto quo
      officiis blanditiis sunt alias. Provident possimus perferendis iusto totam
      delectus autem ullam molestias quibusdam voluptatem labore? Lorem ipsum
      dolor sit amet consectetur adipisicing elit. Qui voluptas distinctio odit,
      architecto quo officiis blanditiis sunt alias. Provident possimus
      perferendis iusto totam delectus autem ullam molestias quibusdam
      voluptatem labore? Lorem ipsum dolor sit amet consectetur adipisicing
      elit. Qui voluptas distinctio odit, architecto quo officiis blanditiis
      sunt alias. Provident possimus perferendis iusto totam delectus autem
      ullam molestias quibusdam voluptatem labore? Lorem ipsum dolor sit amet
      consectetur adipisicing elit. Qui voluptas distinctio odit, architecto quo
      officiis blanditiis sunt alias. Provident possimus perferendis iusto totam
      delectus autem ullam molestias quibusdam voluptatem labore? Lorem ipsum
      dolor sit amet consectetur adipisicing elit. Qui voluptas distinctio odit,
      architecto quo officiis blanditiis sunt alias. Provident possimus
      perferendis iusto totam delectus autem ullam molestias quibusdam
      voluptatem labore? Lorem ipsum dolor sit amet consectetur adipisicing
      elit. Qui voluptas distinctio odit, architecto quo officiis blanditiis
      sunt alias. Provident possimus perferendis iusto totam delectus autem
      ullam molestias quibusdam voluptatem labore? Lorem ipsum dolor sit amet
      consectetur adipisicing elit. Qui voluptas distinctio odit, architecto quo
      officiis blanditiis sunt alias. Provident possimus perferendis iusto totam
      delectus autem ullam molestias quibusdam voluptatem labore? Lorem ipsum
      dolor sit amet consectetur adipisicing elit. Qui voluptas distinctio odit,
      architecto quo officiis blanditiis sunt alias. Provident possimus
      perferendis iusto totam delectus autem ullam molestias quibusdam
      voluptatem labore? Lorem ipsum dolor sit amet consectetur adipisicing
      elit. Qui voluptas distinctio odit, architecto quo officiis blanditiis
      sunt alias. Provident possimus perferendis iusto totam delectus autem
      ullam molestias quibusdam voluptatem labore? Lorem ipsum dolor sit amet
      consectetur adipisicing elit. Qui voluptas distinctio odit, architecto quo
      officiis blanditiis sunt alias. Provident possimus perferendis iusto totam
      delectus autem ullam molestias quibusdam voluptatem labore? Lorem ipsum
      dolor sit amet consectetur adipisicing elit. Qui voluptas distinctio odit,
      architecto quo officiis blanditiis sunt alias. Provident possimus
      perferendis iusto totam delectus autem ullam molestias quibusdam
      voluptatem labore? Lorem ipsum dolor sit amet consectetur adipisicing
      elit. Qui voluptas distinctio odit, architecto quo officiis blanditiis
      sunt alias. Provident possimus perferendis iusto totam delectus autem
      ullam molestias quibusdam voluptatem labore? Lorem ipsum dolor sit amet
      consectetur adipisicing elit. Qui voluptas distinctio odit, architecto quo
      officiis blanditiis sunt alias. Provident possimus perferendis iusto totam
      delectus autem ullam molestias quibusdam voluptatem labore? Lorem ipsum
      dolor sit amet consectetur adipisicing elit. Qui voluptas distinctio odit,
      architecto quo officiis blanditiis sunt alias. Provident possimus
      perferendis iusto totam delectus autem ullam molestias quibusdam
      voluptatem labore? Lorem ipsum dolor sit amet consectetur adipisicing
      elit. Qui voluptas distinctio odit, architecto quo officiis blanditiis
      sunt alias. Provident possimus perferendis iusto totam delectus autem
      ullam molestias quibusdam voluptatem labore? Lorem ipsum dolor sit amet
      consectetur adipisicing elit. Qui voluptas distinctio odit, architecto quo
      officiis blanditiis sunt alias. Provident possimus perferendis iusto totam
      delectus autem ullam molestias quibusdam voluptatem labore? distinctio
      odit, architecto quo officiis blanditiis sunt alias. Provident possimus
      perferendis iusto totam delectus autem ullam molestias quibusdam
      voluptatem labore? Lorem ipsum dolor sit amet consectetur adipisicing
      elit. Qui voluptas distinctio odit, architecto quo officiis blanditiis
      sunt alias. Provident possimus perferendis iusto totam delectus autem
      ullam molestias quibusdam voluptatem labore? Lorem ipsum dolor sit amet
      consectetur adipisicing elit. Qui voluptas distinctio odit, architecto quo
      officiis blanditiis sunt alias. Provident possimus perferendis iusto totam
      delectus autem ullam molestias quibusdam voluptatem labore? Lorem ipsum
      dolor sit amet consectetur adipisicing elit. Qui voluptas distinctio odit,
      architecto quo officiis blanditiis sunt alias. Provident possimus
      perferendis iusto totam delectus autem ullam molestias quibusdam
      voluptatem labore? Lorem ipsum dolor sit amet consectetur adipisicing
      elit. Qui voluptas distinctio odit, architecto quo officiis blanditiis
      sunt alias. Provident possimus perferendis iusto totam delectus autem
      ullam molestias quibusdam voluptatem labore? Lorem ipsum dolor sit amet
      consectetur adipisicing elit. Qui voluptas distinctio odit, architecto quo
      officiis blanditiis sunt alias. Provident possimus perferendis iusto totam
      delectus autem ullam molestias quibusdam voluptatem labore? Lorem ipsum
      dolor sit amet consectetur adipisicing elit. Qui voluptas distinctio odit,
      architecto quo officiis blanditiis sunt alias. Provident possimus
      perferendis iusto totam delectus autem ullam molestias quibusdam
      voluptatem labore? Lorem ipsum dolor sit amet consectetur adipisicing
      elit. Qui voluptas distinctio odit, architecto quo officiis blanditiis
      sunt alias. Provident possimus perferendis iusto totam delectus autem
      ullam molestias quibusdam voluptatem labore? Lorem ipsum dolor sit amet
      consectetur adipisicing elit. Qui voluptas distinctio odit, architecto quo
      officiis blanditiis sunt alias. Provident possimus perferendis iusto totam
      delectus autem ullam molestias quibusdam voluptatem labore? Lorem ipsum
      dolor sit amet consectetur adipisicing elit. Qui voluptas distinctio odit,
      architecto quo officiis blanditiis sunt alias. Provident possimus
      perferendis iusto totam delectus autem ullam molestias quibusdam
      voluptatem labore? Lorem ipsum dolor sit amet consectetur adipisicing
      elit. Qui voluptas distinctio odit, architecto quo officiis blanditiis
      sunt alias. Provident possimus perferendis iusto totam delectus autem
      ullam molestias quibusdam voluptatem labore? Lorem ipsum dolor sit amet
      consectetur adipisicing elit. Qui voluptas distinctio odit, architecto quo
      officiis blanditiis sunt alias. Provident possimus perferendis iusto totam
      delectus autem ullam molestias quibusdam voluptatem labore? Lorem ipsum
      dolor sit amet consectetur adipisicing elit. Qui voluptas distinctio odit,
      architecto quo officiis blanditiis sunt alias. Provident possimus
      perferendis iusto totam delectus autem ullam molestias quibusdam
      voluptatem labore? Lorem ipsum dolor sit amet consectetur adipisicing
      elit. Qui voluptas distinctio odit, architecto quo officiis blanditiis
      sunt alias. Provident possimus perferendis iusto totam delectus autem
      ullam molestias quibusdam voluptatem labore? Lorem ipsum dolor sit amet
      consectetur adipisicing elit. Qui voluptas distinctio odit, architecto quo
      officiis blanditiis sunt alias. Provident possimus perferendis iusto totam
      delectus autem ullam molestias quibusdam voluptatem labore? Lorem ipsum
      dolor sit amet consectetur adipisicing elit. Qui voluptas distinctio odit,
      architecto quo officiis blanditiis sunt alias. Provident possimus
      perferendis iusto totam delectus autem ullam molestias quibusdam
      voluptatem labore? Lorem ipsum dolor sit amet consectetur adipisicing
      elit. Qui voluptas distinctio odit, architecto quo officiis blanditiis
      sunt alias. Provident possimus perferendis iusto totam delectus autem
      ullam molestias quibusdam voluptatem labore? Lorem ipsum dolor sit amet
      consectetur adipisicing elit. Qui voluptas distinctio odit, architecto quo
      officiis blanditiis sunt alias. Provident possimus perferendis iusto totam
      delectus autem ullam molestias quibusdam voluptatem labore? Lorem ipsum
      dolor sit amet consectetur adipisicing elit. Qui voluptas distinctio odit,
      architecto quo officiis blanditiis sunt alias. Provident possimus
      perferendis iusto totam delectus autem ullam molestias quibusdam
      voluptatem labore? Lorem ipsum dolor sit amet consectetur adipisicing
      elit. Qui voluptas distinctio odit, architecto quo officiis blanditiis
      sunt alias. Provident possimus perferendis iusto totam delectus autem
      ullam molestias quibusdam voluptatem labore? Lorem ipsum dolor sit amet
      consectetur adipisicing elit. Qui voluptas distinctio odit, architecto quo
      officiis blanditiis sunt alias. Provident possimus perferendis iusto totam
      delectus autem ullam molestias quibusdam voluptatem labore?
    </article>
    <div class="footer">
      <!-- TODO: save close action to session storage to prevent display again -->
      <button on="tap:footerHideAnim.start">X</button>
      <footer>The Footer</footer>
    </div>
    <div id="footer-trigger"></div>
    <amp-position-observer
      target="footer-trigger"
      intersection-ratios="0"
      on="exit:footerShowAnim.start;enter:footerHideAnim.start"
      layout="nodisplay"
    >
    </amp-position-observer>
    <amp-animation id="footerShowAnim" layout="nodisplay">
      <script type="application/json">
        {
          "duration": "0.5s",
          "fill": "both",
          "animations": [
            {
              "selector": ".footer",
              "keyframes": {
                "opacity": [0, 1]
              }
            }
          ]
        }
      </script>
    </amp-animation>
    <amp-animation id="footerHideAnim" layout="nodisplay">
      <script type="application/json">
        {
          "duration": "0.5s",
          "fill": "both",
          "animations": [
            {
              "selector": ".footer",
              "keyframes": {
                "opacity": [0]
              }
            }
          ]
        }
      </script>
    </amp-animation>
  </body>
</html>
